/* 
navigator toolbox is the root container, contains all

the #nav-bar contains nav buttons, urlbar, extensions

target structure (like zen browser):

[ header ] - #nav-bar subset: nav buttons, extensions, settings
[ urlbar ] - #nav-bar.urlbar is moved out of header and put below
[ sideberry ] 

Sideberry's built-in sidebar toggle (F1 default hotkey) now controls
the entire Fennec UI experience. When you toggle Sideberry off,
both the sidebar AND the navigation bar are hidden for a clean,
distraction-free browsing experience. 


this css code is organized 
  from top-bottom as elements appear
  then left-right
*/

:root {
  --fennec-color: #36363a;
}

/* toggling sideberry/history toggles the whole ui */
body:has(#sidebar-box[hidden="true"]) #navigator-toolbox {
  display: none !important;
}

/* root node of everything mozilla - set height small value while testing
   around 30px is normal */
#navigator-toolbox {
  position: absolute !important;
  z-index: 2 !important;  /* 3 spills extensions on page*/
/*   width: 13vw; */
  border: none !important;
  margin-top: 4px;
  margin-left: 2px;
}

#toolbar-menubar {
  display: none;
}

/* Firefox's native tabs - always disable */
#TabsToolbar {
  display: none;
}


/* ---- s:header ---- */

/*  #nav-bar is the root of the header section, just for reference*/
/* #nav-bar {
} */

#nav-bar-customization-target {
  background-color: var(--fennec-color);
}

/* 
   #nav-bar.children (below) 
   note: we free nav-bar.urlbar with position absolute
*/

/* sidebar toggle - hide this */
#sidebar-button {
  display: none;
}

#back-button {
  margin-left: 37px !important;
}

/* #forward-button {
  display: none;
}  */

/* #stop-reload-button {
} */

/* home button - hide this */
#home-button {
  display: none;
}

/* START: spring1 (deprecated)

  #customizableui-special-spring1 and 2 are spacers 
  nav buttons - spring1 - url bar - spring2 - extensions/settings
*/

#customizableui-special-spring1 {
  display: none;
}

/* END: spring1 (deprecated) */


/* child: urlbar is here, we modify it later, just reference */
/* #urlbar-container{} */


/* START: spring2 (deprecated) */


#customizableui-special-spring2 {
  display: none;
} 

/* END: spring2 (deprecated) */

/* #downloads-button {
} */

/* #unified-extensions-button {
} */

/* all pinnned extensions overflow here... */

/* settings menu */ 
#PanelUI-button {
  position: absolute !important;
}

/* bookmarks area - always disable */
#PersonalToolbar {
  display: none;
}

/* ---- e:header ---- */



/* ---- s:urlbar ---- */

/* Pin Search Bar / Url bar above the sideberry tabs, and below the zen-sidebar top buttons */
#urlbar-container {
  position: absolute;
  top: 38px;
  width: 215px !important;
}

/* remove google icon crowding search bar */
#urlbar-searchmode-switcher {
  display: none;
}

/* TODO after removing search move switcher, urlbar when */
/* .urlbar-input-container {
  padding-left: 5px !important;
} */

/* shield icon for tracking protections, don't need */
/* TODO make this shown on hover, rather than always hide */
.urlbar-input-container #tracking-protection-icon-container {
  display: none;
}

/* this will show "Not secure" if the connection is not secure, 
   there is already an icon, only selectively hide if safe  */
/* #identity-icon-label {} */

/* shows "Sideberry" if on its extension page, not strictly needed */
#identity-box.extensionPage #identity-icon-label {
  display: none;
}

/* shows Firefox if on settings, not strictly needed */
#identity-box.chromeUI #identity-icon-label {
  display: none;
}

/* SECURE STATES (safe to customize) */
/* .chromeUI          /* Firefox internal pages */
/* .extensionPage     /* Extension pages */
/* .verifiedDomain    /* HTTPS with valid cert */
/* .verifiedIdentity  /* EV certificates */

/* SECURITY WARNING STATES (preserve these!) */
/* .notSecure         /* HTTP or broken HTTPS */
/* .insecureLoginForms /* HTTPS page with HTTP login */
/* .mixedContentBlocked /* HTTPS with blocked mixed content */
/* .mixedActiveContent  /* HTTPS with active mixed content */

/* hide the packlock if not hovered and only if site is secure */
/* `.mixedContentBlocked` could be worth surfacing, for warnings */
/* but it seems like .notSecure is always concerning, so we will surface that */
/* #identity-box:not(.notSecure) {
  opacity: 1;
  transform: translateX(0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

#urlbar:not(:hover) #identity-box:not(.notSecure) {
  opacity: 0;
  transform: translateX(-20px); 
  pointer-events: none;
  width: 0px;
} */

body:has(#sidebar-box[checked="true"]):has(#identity-box.notSecure)::before {
  content: "ðŸ¦Š Fennec CSS Alerts: ðŸ”“ Not Secure";
  text-align: center;
  font-size: 24px;
  margin-left:15%;
  padding-top: 10px;
  display: block;
  position: absolute;
  z-index: 3;
  width: 85%;
  height: 46px;
  box-sizing: border-box;
  background-color: #36363a;
}

/* when sidebar is hidden via sideberry toggle - adjust security warning layout */
body:has(#sidebar-box[hidden="true"]):has(#identity-box.notSecure)::before {
  content: "ðŸ¦Š Fennec CSS Alerts: ðŸ”“ Not Secure";
  text-align: center;
  font-size: 24px;
  margin-left: 0px;
  display: block;
  position: inherit;
  z-index: 2;
  width: 100%;
  height: 46px;
  padding-top: 10px;
  box-sizing: border-box;
  background-color: #36363a;
}

/* on right-side of urlbar, favorite button, some other things I don't care */
#page-action-buttons {
  display: none !important;
}


/* ---- e:urlbar ---- */



/* ---- s:sidebar ---- */

/* smallest width seems to be 224px */

/* create space for urlbar area inside the sidebar */
#sidebar-box::before {
  content: "";
  display: block;
  height: 96px;
  width: 100%;
  pointer-events: none;
  box-sizing: border-box;
  background-color: #36363a;
}

/* Remove the "Sideberry", "History", etc. sidepanel header  */
#sidebar-header {
  display: none;
}

/* ------ s:sidebar-frame ---- */ 

/* the gutter between the sidebar and page */
#sidebar-splitter {
  margin: 0px !important;
  background-color: var(--fennec-color) !important;
  border: 0px !important;
}

/* ------ e:sidebar-frame ---- */ 

/* ------ s:sideberry ---- */

/* edits are handled in sideberry css file */

/* ------ e:sideberry ---- */

/* ---- e:sidebar ---- */
